<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport">
    <title>paintüñåÔ∏è</title>
    <style>
      body {
        background: black;
        margin: 0;
        padding: 0;
        height: 100vh;
        overflow: hidden;
        cursor: url(oth505.cur), auto;
      }

      .pixel {
        position: absolute;
        z-index: 99;
        mix-blend-mode: normal
      }

      #canvas {
        position: absolute;
        top: 20%;
        left: 20%;
        width: 800px;
        height: 600px;
        border: 5px solid white;
        background: black;
      }
    </style>
  </head>

  <body>
    <div id="canvas"></div>
    <script src="https://cdn.jsdelivr.net/gh/netizenorg/netnet-standard-library/build/nn.min.js"></script>
    <script>
      /* global nn */
      let mouseIsDown = false;
      nn.create('button')
        .content('clear')
        .addTo('body')
        .on('click', clear)

      function clear() {
        //got this code from stackexchange
        const elements = document.getElementsByClassName('pixel');
        while (elements.length > 0) {
          elements[0].parentNode.removeChild(elements[0]);
        }
      }

      let multiplier = 70;
      nn.create('input')
        .set({
          type: 'range',
          min: 10,
          max: 150,
          value: 70,
          step: 0.1
        })
        .addTo('body')
        .on('input', (e) => {
          multiplier = e.target.value;
        })

      function changeSize() {
        return Math.random() * multiplier;
      }

      function mousePressed() {
        mouseIsDown = true;
      }

      function mouseReleased() {
        mouseIsDown = false;
      }

      function scatterEmoji(e) {
        if (mouseIsDown) {
          const size = changeSize();
          const hue = e.clientY % 360;
          const sl = e.clientX % 100;
          const rotate = e.clientX % 360;

          const canvas = document.getElementById('canvas');
          const bounds = canvas.getBoundingClientRect();
if (
  e.clientX < bounds.left + size || 
  e.clientX > bounds.right - size||
  e.clientY < bounds.top + size || 
  e.clientY > bounds.bottom - size
) {
  return;
}

          nn.create('div')
            .set({
              class: 'pixel'
            })
            .css({
              left: `${e.clientX}px`,
              top: `${e.clientY}px`,
              width: `${size}px`,
              height: `${size}px`,
              backgroundColor: `hsl(${hue}, ${sl}%, ${sl}%)`,
              transform: `rotate(${rotate}deg)`,
              boxShadow: `10px 5px 5px black`
            })
            .addTo('body');
        }
      }

      nn.on('mousedown', mousePressed);
      nn.on('mouseup', mouseReleased);
      nn.on('mousemove', scatterEmoji);
    </script>
  </body>
</html>